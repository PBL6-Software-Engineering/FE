<h1 class="fs-28 fw-700 mb-20">Đặt mật khẩu</h1>

<form
  appFocusInvalidInput
  #focusInput="focusInvalidInput"
  [formGroup]="form"
  #f="ngForm"
  (ngSubmit)="changePassword()"
>
  <div class="form-group">
    <label for="old-password-input"
      >Mật khẩu cũ <span class="text-danger">(*)</span>:
    </label>
    <div class="position-relative">
      <input
        type="password"
        class="form-control"
        placeholder="Mật khẩu cũ"
        id="old-password-input"
        formControlName="oldPass"
      />
      <!-- <i class="bi bi-eye-slash icon-eye" id="toggleOldPassword"
                 (click)="togglePass('#toggleOldPassword', '#old-password-input')"></i> -->
    </div>

    <app-show-error
      [control]="form.get('oldPass')"
      [validatesInput]="messagesValidatePass"
    ></app-show-error>
    <p *ngIf="!isValidOldPass" class="text-danger">
      Mật khẩu cũ không đúng !!!
    </p>
  </div>

  <div formGroupName="pwGroup">
    <div class="form-group">
      <label for="new-password-input"
        >Mật khẩu mới <span class="text-danger">(*)</span>:
      </label>
      <div class="position-relative">
        <input
          type="password"
          class="form-control"
          placeholder="Mật khẩu mới"
          id="new-password-input"
          formControlName="newPass"
        />
        <!-- <i class="bi bi-eye-slash icon-eye" id="toggleNewPassword"
                     (click)="togglePass('#toggleNewPassword', '#new-password-input')"></i> -->
      </div>
      <app-show-error
        [control]="form.get('pwGroup')?.get('newPass')"
        [validatesInput]="messagesValidatePass"
      ></app-show-error>
    </div>
    <div class="form-group">
      <label for="confirm-password-input"
        >Xác nhận mật khẩu <span class="text-danger">(*)</span>:
      </label>
      <div class="position-relative">
        <input
          type="password"
          class="form-control"
          placeholder="Xác nhận mật khẩu"
          id="confirm-password-input"
          formControlName="confirmPass"
        />
        <!-- <i
                  class="bi bi-eye-slash icon-eye"
                  id="toggleConfirmPassword"
                  (click)="
                    togglePass(
                      '#toggleConfirmPassword',
                      '#confirm-password-input'
                    )
                  "
                ></i> -->
      </div>
      <app-show-error
        [control]="form.get('pwGroup')"
        [validatesInput]="messagesValidatePass"
      ></app-show-error>
    </div>
  </div>

  <div class="form-group d-flex justify-content-end mt-24">
    <button class="btn btn-primary" type="submit" (click)="focusInput.focus()">
      <!-- <i class="bi bi-key icon-change-password"></i> -->
      Đổi mật khẩu
    </button>
  </div>
</form>
