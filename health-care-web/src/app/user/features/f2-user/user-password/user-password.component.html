<div class="container" style="width: 80%">
  <h1 class="fs-28 fw-700 mb-20">Thiết lập mật khẩu</h1>

  <form
    appFocusInvalidInput
    #focusInput="focusInvalidInput"
    [formGroup]="form"
    #f="ngForm"
    (ngSubmit)="changePassword()"
  >
    <div class="form-group mb-6 form-input-wrapper">
      <label for="old-password-input" class="mb-6">
        Mật khẩu cũ <span class="text-danger">(*)</span>:
      </label>
      <div class="position-relative">
        <input
          type="text"
          class="form-control"
          placeholder="Nhập mật khẩu cũ"
          id="old-password-input"
          formControlName="oldPass"
        />
        <!-- <i class="bi bi-eye-slash icon-eye" id="toggleOldPassword"
                 (click)="togglePass('#toggleOldPassword', '#old-password-input')"></i> -->
      </div>

      <app-show-error
        [control]="form.get('oldPass')"
        [validatesInput]="messagesValidatePass"
      ></app-show-error>
      <p *ngIf="!isValidOldPass" class="text-danger">
        Mật khẩu cũ không đúng !!!
      </p>
    </div>

    <div formGroupName="pwGroup">
      <div class="form-group mb-6 form-input-wrapper">
        <label for="new-password-input" class="mb-6">
          Mật khẩu mới <span class="text-danger">(*)</span>:
        </label>
        <div class="position-relative">
          <input
            type="text"
            class="form-control"
            placeholder="Nhập mật khẩu mới"
            id="new-password-input"
            formControlName="newPass"
          />
          <!-- <i class="bi bi-eye-slash icon-eye" id="toggleNewPassword"
                     (click)="togglePass('#toggleNewPassword', '#new-password-input')"></i> -->
        </div>
        <app-show-error
          [control]="form.get('pwGroup')?.get('newPass')"
          [validatesInput]="messagesValidatePass"
        ></app-show-error>
      </div>
      <div class="form-group mb-6 form-input-wrapper">
        <label for="confirm-password-input" class="mb-6">
          Xác nhận mật khẩu <span class="text-danger">(*)</span>:
        </label>
        <div class="position-relative">
          <input
            type="text"
            class="form-control"
            placeholder="Xác nhận mật khẩu mới"
            id="confirm-password-input"
            formControlName="confirmPass"
          />
          <!-- <i
                  class="bi bi-eye-slash icon-eye"
                  id="toggleConfirmPassword"
                  (click)="
                    togglePass(
                      '#toggleConfirmPassword',
                      '#confirm-password-input'
                    )
                  "
                ></i> -->
        </div>
        <app-show-error
          [control]="form.get('pwGroup')"
          [validatesInput]="messagesValidatePass"
        ></app-show-error>
      </div>
    </div>

    <div class="form-group flex-end mt-24">
      <button
        class="btn btn-primary-1 column-center"
        type="submit"
        (click)="focusInput.focus()"
        [disabled]="isSaving"
      >
        <!-- <i class="bi bi-key icon-change-password"></i> -->
        <div class="loader" *ngIf="isSaving"></div>
        Đổi mật khẩu
      </button>
    </div>
  </form>
</div>
